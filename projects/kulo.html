<html><head><title>Kulo - Jobin Lawance</title><meta name=description content="A taxi hiring service for black &amp;yellowcabs in Mumbai."><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta name=viewport content="width:device-width, initial-scale:1"><meta name=msapplication-config content="../static/browserconfig.xml?v=lkgWLrAY9xadf"><meta name=msapplication-TileImage content=../static/mstile-144x144.png><meta name=theme-color content=#27293f><meta content="width=device-width,initial-scale=1" name=viewport><link rel=apple-touch-icon sizes=57x57 href=../static/apple-touch-icon-57x57.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=60x60 href=../static/apple-touch-icon-60x60.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=72x72 href=../static/apple-touch-icon-72x72.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=76x76 href=../static/apple-touch-icon-76x76.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=114x114 href=../static/apple-touch-icon-114x114.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=120x120 href=../static/apple-touch-icon-120x120.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=144x144 href=../static/apple-touch-icon-144x144.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=152x152 href=../static/apple-touch-icon-152x152.png?v:lkgWLrAY9xadf><link rel=apple-touch-icon sizes=180x180 href=../static/apple-touch-icon-180x180.png?v:lkgWLrAY9xadf><link rel=icon type=image/png href=../static/favicon-32x32.png?v:lkgWLrAY9xadf sizes=32x32><link rel=icon type=image/png href=../static/favicon-194x194.png?v:lkgWLrAY9xadf sizes=194x194><link rel=icon type=image/png href=../static/android-chrome-192x192.png?v:lkgWLrAY9xadf sizes=192x192><link rel=icon type=image/png href=../static/favicon-16x16.png?v:lkgWLrAY9xadf sizes=16x16><link rel=manifest href=../static/manifest.json?v:lkgWLrAY9xadf><link rel=mask-icon href=../static/safari-pinned-tab.svg?v:lkgWLrAY9xadf color=#27293f><link rel="shortcut icon" href="../static/favicon.ico?v=lkgWLrAY9xadf"/><link rel="stylesheet" href="../css/project.e228efaf.css"></head><body><section class="section"><div class="container block has-text-centered"><p class="title is-2">Kulo</p><p class="block"> Kulo is a cab hiring service for Black &amp; Yellow taxis in Mumbai.</p></div><div class="container block" id="ui"><h3 class="title has-text-centered">UI Overview</h3><div class="block"><h4 class="title is-4 has-text-centered top-padding">Sign Up/Log In</h4><div class="columns"><div class="column content"><ul><li>Signing up or logging in only requires an active phone number to receive OTP as an sms</li><li>OTP is automatically read from SMS</li><li>OTP can also be manually entered if the permission to read SMS is denied or if SIM card is not present in the current phone.</li></ul></div><div class="column has-text-right content"><video poster="../images/kulo_login.jpg" playsinline autoplay muted loop><source src="../videos/kulo_login.41cbbf8e.webm" type="video/webm"><source src="../videos/kulo_login.264be0ad.mp4" type="video/mp4"></video></div></div></div><div class="block"><h4 class="title is-4 has-text-centered top-padding">Booking a Ride</h4><div class="columns"><div class="column has-text-left content"><video poster="../images/kulo_booking.png" playsinline autoplay muted loop><source src="../videos/kulo_booking.f082c1de.mp4" type="video/mp4"><source src="../videos/kulo_booking.c494427f.webm" type="video/webm"></video></div><div class="column content"><ul><li> <code>Pickup Location</code> - Current Location is automatically selected and can be changed within 2.5 Km radius</li><li> <code>Drop Location</code> - Places, saved or otherwise, can be searched and selected.</li><li> <code>Cab Type</code> - Either <b>Taxi</b> or <b>Cool Cab</b> can be selected.</li><li> <code>Payment Mode</code> - Payment mode can be switched between <b>Cash</b> or <b>Paytm</b> and a default mode can be set in Settings.</li></ul></div></div></div><div class="block"><h4 class="title is-4 has-text-centered top-padding">Post Booking</h4><div class="columns"><div class="column content is-marginless"><ul><li> <code>Tracking</code> - Once the booking is successful, driver details along with live location is displayed.</li><li> <code>Cancel</code> - There is an option to cancel before the ride has started.</li><li> <code>Share</code> - Ride details can be shared as text to other applications ( WhatsApp, Messaging etc.)</li><li> <code>Emergency</code> - Once the ride has started, there is an Emergency button to call the police.<br> <img class="small-screenshot" src="../images/kulo_emergency.jpeg" alt="Emergency Image"></li><li> <code>OTP</code> - While ending the ride, driver enters the fare amount for cashless rides and user OTP is used as a confirmation.</li><li> <code>Review</code> - Once the ride is over, user has the option to review the ride.<br></li></ul></div><div class="column content has-text-right" id="marker-anim"><video poster="../images/kulo_ride.jpeg" playsinline autoplay muted loop><source src="../videos/kulo_ride.6860741c.mp4" type="video/mp4"></video></div></div></div><div class="block"><h4 class="title is-4 has-text-centered top-padding">Wallet Integration</h4><div class="columns"><div class="column has-text-left"><video poster="../images/kulo_paytm.jpeg" playsinline autoplay muted loop><source src="../videos/kulo_paytm.242ce87b.mp4" type="video/mp4"></video></div><div class="column content"> Kulo offers wallet integration for online payments (Paytm as of now.)<ul><li>Paytm can be added from the main screen or from the Settings.</li><li>After entering the mobile number and email id associated with Paytm, user receives an OTP from Paytm to confirm the wallet integration with Kulo.</li><li>After successful integration, Paytm can be set as default mode of payment for subsequent rides.</li></ul></div></div></div><div class="block"><h4 class="title is-4 has-text-centered top-padding">Location Bookmarks</h4><div class="columns"><div class="column content is-marginless"> Locations can be saved that are regularly frequented. These saved locations appear on top while setting the drop location.<ul><li>All the saved locations can be viewed and edited from <b>My Places</b> option in the Navigation Drawer.</li><li>Since <b>Home</b> and <b>Work</b> are the most commonly saved locations they can be added from the drop location screen itself.<br> <img class="small-screenshot" src="../images/kulo_work.jpeg" alt="Saved Home &apm; Work"></li></ul></div><div class="column content has-text-right"><video poster="../images/kulo_locations.jpeg" playsinline autoplay muted loop><source src="../videos/kulo_locations.63d38b16.mp4" type="video/mp4"></video></div></div></div></div><div id="tech" class="container top-padding"><h3 class="title has-text-centered">Details</h3><div class="content"><p>Kulo consists of two android applications - The passenger app and the driver app.</p><h5><b>Passenger App</b></h5> The above UI overview was the passenger app. This is the application end users interact with.<ol><li>While searching for a cab, the passenger application sends it's current location to the backend server, the server then searches for cabs around the location.</li><li>Once a cab is found, the passenger app polls the server for cab location and updates it's UI by <a href="#marker-anim">animating a custom map marker.</a></li></ol><h5><b>Driver App</b></h5><p>This application is used by cab drivers to mark themselves as <i>"available"</i> for rides, to accept rides, navigate to passengers etc. The main flow of event during the lifecycle of a cab ride is initiated by the driver application i.e<br><ol><li>Accepting Ride requests from users.</li><li>Alerting them on arriving at pickup location.</li><li>Starting the ride once the passenger boards the cab.</li><li> Finishing the ride.<ul><li>In case of online payment, the driver enters the fare amount and user OTP. This amount is then deducted from the user associated wallet account.</li></ul></li></ol></p><p>Both these applications communicate using a .Net backend server developed by my partner <a target="_blank" href="https://gldraphael.com/">Galdin Raphael</a></p></div><h4 class="title is-4 has-text-centered">Technologies used</h4><div class="content"> Both the applications (passenger and driver) are native android applications build using Java.<ol><li> Google Play Services<ul><li><code>Maps</code> - To display user location, driver tracking etc.</li><li><code>Places</code> - Place search auto complete.</li><li><code>Location</code> - Receive location updates</li></ul></li><li> Firebase<ul><li><code>Crash</code> - Crash Reporting.</li><li><code>Cloud Messaging</code> - Push Notification.</li></ul></li><li><code>Dagger</code> - Dependency injection.</li><li><code>RxJava</code> - Async event based programming.</li><li><code>RxPermission</code> - Runtime permissions.</li><li><code>RxBindings</code> - RxJava binding APIs for Android UI.</li><li><code>Glide</code> - Image processing and loading.</li><li><code>Volley</code> - Networking.</li><li><code>Butterknife</code> - View Injection.</li></ol></div><h4 class="title is-4 has-text-centered">Challenges Faced</h4><div class="content"><ol><li> <code>Networking</code> - Initially, all the networking was done using AsyncTasks, but as requirements became complex it became difficult to maintain code.<br> The solution was <b>RxJava</b>, it made network request chaining or combining results of two requests very easy to implement and debug.</li><li> <code>Runtime permissions</code> - Handing permissions in Android M and above required requesting permission in one place and handling results in <code>onRequestPermissionsResult()</code>, this wasn't a major hindrance but rather an inconvenience.<br>This issue was solved by <b>RxPermission</b>, it along with <b>RxBinding</b> makes the flow easy by chaining each event using <b>RxJava</b>.</li><li><code>State Synchronisation</code> - The most difficult part of the application was to to keep the driver application state synced with the passenger application. <b>FCM</b> wasn't reliable in poor network conditions so we ended up using <b>SignalR</b> along with it and an extra fallback function that poll the server to confirm states if both of them failed.</li></ol></div></div><div class="container has-text-centered download top-padding" id="download"><h3 class="title">Download</h3><p>A UI only demo version is available</p><p>Use any 10 digit number to login and for paytm use any 6 digit OTP</p> <a target="_blank" href='https://play.google.com/store/apps/details?id=com.gldraphael.kulocabs.mock&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'><img alt='Get it on Google Play' src='https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png'/></a></div></section><link rel="stylesheet" href="../fonts/OCR-B10PitchBT.908cf948.css"><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"></body></html>